# &つけが必要な変数の正体

## &付き変数の正体

前節では、変数のアドレスを表示する方法について説明しました。
このとき、変数名の前に&をつけていましたが、この書き方は、第6章でscanf関数を使うときにも使いました。

つまり、&付き変数は、アドレスを表示する時だけに使われるのではなくて、さまざまな所で使われている書き方なのです。

この&付き変数の正体は、非常に単純です。
実は、&は変数のアドレスを求める演算子なのです。
+や*などと同じように、なんらかの計算を行うための記号なのです。

どんな変数でも、&演算子を使うと、変数のアドレスを求めることができます。
言い換えると、&演算子を使うと、その変数のメモリ上の番号を知ることができます。

## すべては値渡しである

前項では、&演算子を使うと、変数のアドレスを知ることができると説明しました。
しかし、一体何のために、変数のアドレスを知る必要があるのでしょうか。
実は、これにはC言語の関数の仕組みが関係しているのです。

第12章では、自作関数と変数のスコープについて説明しました。
ここでは、引数という仕組みで、関数に数値を渡すことができると説明しました。
しかし、この引数で渡すことができるのは、あくまでも数値です。
関数を呼び出す時に変数を指定した場合には、
変数に記憶されている値が、呼び出された関数の実引数にコピーされます。

つまり、引数に関数に渡されるデータは、すべて数値であるということです。
このように、引数で数値を渡す方式を、値渡しと呼ぶことがあります。

---

### キーワード

#### 【値渡し】

関数に単なる数値として情報を渡す方法。

---

ここで重要なのは、変数に実引数を指定しても、渡されるのは中身の数値である点です。
数値を受け取った関数では、それを元に色々計算して、結果を戻り値として返します。

通常はこれで問題ありませんが、もし、変数の中身を直接変更したい場合には困ります。
なぜなら、関数に渡されたのは変数の中身のコピーに過ぎないので、
そのコピーをいくら変更しても、呼び出し側の変数には何の影響もありません。

そこで、&演算子を使ってアドレスを求めて、そのアドレスの数値を渡します。
そうすれば、関数に呼び出し側の変数のアドレス、すなわち、メモリ上の番号がわかり、
その番号のメモリを書き換えてやれば、呼び出し側の変数を書き換えることができます。
つまり、これが変数のアドレスを知る必要がある理由です。

---

### 参照渡し

値渡しに対して、参照渡しという機能が存在する言語もあります。
これは、アドレスを渡す処理を自動的に処理してくれる機能です。
C言語では、値渡ししか出来ないのですが、
アドレスを渡すことを慣習的に参照渡しと呼ぶことがあります。

